<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <script src="https://cdn.jsdelivr.net/npm/vega@5"></script>
        <script src="https://cdn.jsdelivr.net/npm/vega-lite@5"></script>
        <script src="https://cdn.jsdelivr.net/npm/vega-embed@6"></script>
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-eOJMYsd53ii+scO/bJGFsiCZc+5NDVN2yr8+0RDqr0Ql0h+rP48ckxlpbzKgwra6" crossorigin="anonymous">
        <script src="/static/justcharts.js"></script>
    </head>
    <body> 
        <div class="container">
            <br>
            <div class="row text-center">
                <h1 class="fw-bold">Personal Dashboard.</h1>
                <p class="lead mb-4">This is a personal dashboard built in HTML for Datasette.</p>
                <vegachart style="width: 49%">
                    {
                        "data":{
                            "url": "/bigmac.csv?sql=select+rowid%2C+date%2C+currency_code%2C+name%2C+local_price%2C+dollar_ex%2C+dollar_price+from+bigmac+where+currency_code+in+%28%22GBP%22%2C+%22EUR%22%2C+%22CAD%22%29+order+by+rowid+limit+101&_size=max",
                            "format": {
                                "type": "csv"
                            }
                        },
                        "mark": "line",
                        "encoding": {
                            "x": {"field": "date", "type": "temporal"},
                            "y": {"field": "local_price", "type": "quantitative"},
                            "color": {"field": "currency_code", "type": "nominal"}
                        },
                        "width": "container"
                    }
                </vegachart>
                <vegachart style="width: 50%">
                    {
                        "data":{
                            "url": "/bigmac.csv?sql=select+rowid%2C+date%2C+currency_code%2C+name%2C+local_price%2C+dollar_ex%2C+dollar_price+from+bigmac+where+currency_code+in+%28%22GBP%22%2C+%22EUR%22%2C+%22CAD%22%29+order+by+rowid+limit+101&_size=max",
                            "format": {
                                "type": "csv"
                            }
                        },
                        "mark": "line",
                        "encoding": {
                            "x": {"field": "date", "type": "temporal"},
                            "y": {"field": "local_price", "type": "quantitative"},
                            "color": {"field": "currency_code", "type": "nominal"}
                        },
                        "width": "container"
                    }
                </vegachart>
                <vegachart style="width: 100%">
                    {
                        "data":{
                            "url": "/bigmac.csv?sql=select+rowid%2C+date%2C+currency_code%2C+name%2C+local_price%2C+dollar_ex%2C+dollar_price+from+bigmac+where+currency_code+in+%28%22GBP%22%2C+%22EUR%22%2C+%22CAD%22%29+order+by+rowid+limit+101&_size=max",
                            "format": {
                                "type": "csv"
                            }
                        },
                        "mark": "line",
                        "encoding": {
                            "x": {"field": "date", "type": "temporal"},
                            "y": {"field": "local_price", "type": "quantitative"},
                            "color": {"field": "currency_code", "type": "nominal"}
                        },
                        "width": "container",
                        "title": "this one is full width"
                    }
                </vegachart>
            </div>
        </div>
    </body>
</html>